const documentType = 'LG101'

const fields = [
  'documentID',
  'lgNumber',
  'lgAmount',
  'operationFlag',
  'effectiveDate',
  'maturityDate',
  'issueDate',
  'issueBranchNumber',
  'issueBranchDescription',
  'issueHubNumber',
  'serviceBranchNumber',
  'subgroupCode',
  'issueTerm',
  'renewNumber',
  'customsFlag',
  'beneTaxID',
  'beneNameTH',
  'beneNameEN',
  'lgType',
  'issuerTaxID',
  'issuerNameEN',
  'issuerNameTH',
  'requesterTaxID',
  'requesterNameTH',
  'requesterNameEN',
  'lgStatus',
  'renewDate',
  'projectValue',
  'requestDate',
  'modifyDate',
  'lgFormNumber',
  'lgDescription1',
  'lgDescription2',
  'lgDescription3',
  'lgDescription4',
  'lgDescription5',
  'lgApproveDate',
  'projectNo',
  'projectName',
  'remark',
]

const mockDatas = [
  {
    documentID:
      '88074dea23f9c2c5c32ca5be244ba681094da04b1fc2c8661d9e6eda2da045a6-1',
    documentType,
    data: {
      approveDate: '2017-10-12',
      beneNameEN: 'sanyansin co.,Ltd',
      beneNameTH: 'สวนสินทร์',
      beneTaxID: '1234567891234565',
      documentName: '1000123456789',
      effectiveDate: '2017-10-12',
      issueBranchDescription: '',
      issueBranchNumber: 123,
      issueDate: '2017-10-12',
      issueHubNumber: 123,
      issuerNameEN: 'ThaiBank',
      issuerNameTH: 'ธนาคารไทย',
      issuerTaxID: '1234567891234567',
      lgAmount: 1000000.5,
      lgCurrency: 'THB',
      lgDescription1: '',
      lgDescription10: '',
      lgDescription2: '',
      lgDescription3: '',
      lgDescription4: '',
      lgDescription5: '',
      lgDescription6: '',
      lgDescription7: '',
      lgDescription8: '',
      lgDescription9: '',
      lgFormNumber: 0,
      lgNote: '',
      lgNumber: '1000123456789',
      lgStatus: 'created',
      lgType: 'Bid Bond',
      maturityDate: '2020-10-12',
      modifyDate: '2017-10-12',
      operationFlag: 'S',
      referenceDate: '2017-12-12',
      referenceDescription: '',
      referenceName: '',
      referenceNumber: '',
      remark: '',
      requestDate: '2017-10-12',
      requesterNameEN: 'customer',
      requesterNameTH: 'ลูกค้าอิสระ',
      requesterTaxID: '1223442333234213',
    },
    permission: {
      grant: ['ALL'],
      read: ['ALL'],
      write: ['ALL'],
    },
    createDate: '2018-01-12T09:47:43.321Z',
    updateDate: '2018-01-12T09:47:43.321Z',
    relationship: {
      beneficiary: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
      issuer: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
    },
    revision: 1,
    changeID:
      '88074dea23f9c2c5c32ca5be244ba681094da04b1fc2c8661d9e6eda2da045a6',
  },
  {
    documentID:
      'a5f55baf7f8b938e5e2280d5c091d8d0b5b89335d66b309f6de098ced0978c45-1',
    documentType,
    data: {
      approveDate: '2017-10-12',
      beneNameEN: 'sanyansin co.,Ltd',
      beneNameTH: 'สวนสินทร์',
      beneTaxID: '1234567891234565',
      documentName: '1000123456789',
      effectiveDate: '2017-10-12',
      issueBranchDescription: '',
      issueBranchNumber: 123,
      issueDate: '2017-10-12',
      issueHubNumber: 123,
      issuerNameEN: 'ThaiBank',
      issuerNameTH: 'ธนาคารไทย',
      issuerTaxID: '1234567891234567',
      lgAmount: 1000000.5,
      lgCurrency: 'THB',
      lgDescription1: '',
      lgDescription10: '',
      lgDescription2: '',
      lgDescription3: '',
      lgDescription4: '',
      lgDescription5: '',
      lgDescription6: '',
      lgDescription7: '',
      lgDescription8: '',
      lgDescription9: '',
      lgFormNumber: 0,
      lgNote: '',
      lgNumber: '1000123456789',
      lgStatus: 'created',
      lgType: 'Bid Bond',
      maturityDate: '2020-10-12',
      modifyDate: '2017-10-12',
      operationFlag: 'S',
      referenceDate: '2017-12-12',
      referenceDescription: '',
      referenceName: '',
      referenceNumber: '',
      remark: '',
      requestDate: '2017-10-12',
      requesterNameEN: 'customer',
      requesterNameTH: 'ลูกค้าอิสระ',
      requesterTaxID: '1223442333234213',
    },
    permission: {
      grant: ['ALL'],
      read: ['ALL'],
      write: ['ALL'],
    },
    createDate: '2018-01-12T09:49:06.318Z',
    updateDate: '2018-01-12T09:49:06.318Z',
    relationship: {
      beneficiary: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
      issuer: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
    },
    revision: 1,
    changeID:
      'a5f55baf7f8b938e5e2280d5c091d8d0b5b89335d66b309f6de098ced0978c45',
  },
  {
    documentID:
      '78e0c9ab0fcf7cbdfd3583b14eaeeb0107622b94a0a19d0a8bf48a3e1a2004e7-1',
    documentType,
    data: {
      approveDate: '2017-10-12',
      beneNameEN: 'sanyansin co.,Ltd',
      beneNameTH: 'สวนสินทร์',
      beneTaxID: '1234567891234565',
      documentName: '1000123456789',
      effectiveDate: '2017-10-12',
      issueBranchDescription: '',
      issueBranchNumber: 123,
      issueDate: '2017-10-12',
      issueHubNumber: 123,
      issuerNameEN: 'ThaiBank',
      issuerNameTH: 'ธนาคารไทย',
      issuerTaxID: '1234567891234567',
      lgAmount: 1000000.5,
      lgCurrency: 'THB',
      lgDescription1: '',
      lgDescription10: '',
      lgDescription2: '',
      lgDescription3: '',
      lgDescription4: '',
      lgDescription5: '',
      lgDescription6: '',
      lgDescription7: '',
      lgDescription8: '',
      lgDescription9: '',
      lgFormNumber: 0,
      lgNote: '',
      lgNumber: '1000123456789',
      lgStatus: 'created',
      lgType: 'Bid Bond',
      maturityDate: '2020-10-12',
      modifyDate: '2017-10-12',
      operationFlag: 'S',
      referenceDate: '2017-12-12',
      referenceDescription: '',
      referenceName: '',
      referenceNumber: '',
      remark: '',
      requestDate: '2017-10-12',
      requesterNameEN: 'customer',
      requesterNameTH: 'ลูกค้าอิสระ',
      requesterTaxID: '1223442333234213',
    },
    permission: {
      grant: ['ALL'],
      read: ['ALL'],
      write: ['ALL'],
    },
    createDate: '2018-01-12T09:49:11.26Z',
    updateDate: '2018-01-12T09:49:11.26Z',
    relationship: {
      beneficiary: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
      issuer: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
    },
    revision: 1,
    changeID:
      '78e0c9ab0fcf7cbdfd3583b14eaeeb0107622b94a0a19d0a8bf48a3e1a2004e7',
  },
  {
    documentID:
      '92006b7a2df03007c2fc7f59e3627975a642c28e3d03006d79c094f8b497ae7b-1',
    documentType,
    data: {
      approveDate: '2017-10-12',
      beneNameEN: 'sanyansin co.,Ltd',
      beneNameTH: 'สวนสินทร์',
      beneTaxID: '1234567891234565',
      documentName: '1000123456789',
      effectiveDate: '2017-10-12',
      issueBranchDescription: '',
      issueBranchNumber: 123,
      issueDate: '2017-10-12',
      issueHubNumber: 123,
      issuerNameEN: 'ThaiBank',
      issuerNameTH: 'ธนาคารไทย',
      issuerTaxID: '1234567891234567',
      lgAmount: 1000000.5,
      lgCurrency: 'THB',
      lgDescription1: '',
      lgDescription10: '',
      lgDescription2: '',
      lgDescription3: '',
      lgDescription4: '',
      lgDescription5: '',
      lgDescription6: '',
      lgDescription7: '',
      lgDescription8: '',
      lgDescription9: '',
      lgFormNumber: 0,
      lgNote: '',
      lgNumber: '1000123456789',
      lgStatus: 'created',
      lgType: 'Bid Bond',
      maturityDate: '2020-10-12',
      modifyDate: '2017-10-12',
      operationFlag: 'S',
      referenceDate: '2017-12-12',
      referenceDescription: '',
      referenceName: '',
      referenceNumber: '',
      remark: '',
      requestDate: '2017-10-12',
      requesterNameEN: 'customer',
      requesterNameTH: 'ลูกค้าอิสระ',
      requesterTaxID: '1223442333234213',
    },
    permission: {
      grant: ['ALL'],
      read: ['ALL'],
      write: ['ALL'],
    },
    createDate: '2018-01-12T09:49:17.852Z',
    updateDate: '2018-01-12T09:49:17.852Z',
    relationship: {
      beneficiary: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
      issuer: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
    },
    revision: 1,
    changeID:
      '92006b7a2df03007c2fc7f59e3627975a642c28e3d03006d79c094f8b497ae7b',
  },
  {
    documentID:
      'bde28c1d83e2716942a3a7602b0e8e9e3daceb47442edeaadd78cac44386a348-1',
    documentType,
    data: {
      approveDate: '2017-10-12',
      beneNameEN: 'sanyansin co.,Ltd',
      beneNameTH: 'สวนสินทร์',
      beneTaxID: '1234567891234565',
      documentName: '1000123456789',
      effectiveDate: '2017-10-12',
      issueBranchDescription: '',
      issueBranchNumber: 123,
      issueDate: '2017-10-12',
      issueHubNumber: 123,
      issuerNameEN: 'ThaiBank',
      issuerNameTH: 'ธนาคารไทย',
      issuerTaxID: '1234567891234567',
      lgAmount: 1000000.5,
      lgCurrency: 'THB',
      lgDescription1: '',
      lgDescription10: '',
      lgDescription2: '',
      lgDescription3: '',
      lgDescription4: '',
      lgDescription5: '',
      lgDescription6: '',
      lgDescription7: '',
      lgDescription8: '',
      lgDescription9: '',
      lgFormNumber: 0,
      lgNote: '',
      lgNumber: '1000123456789',
      lgStatus: 'created',
      lgType: 'Bid Bond',
      maturityDate: '2020-10-12',
      modifyDate: '2017-10-12',
      operationFlag: 'S',
      referenceDate: '2017-12-12',
      referenceDescription: '',
      referenceName: '',
      referenceNumber: '',
      remark: '',
      requestDate: '2017-10-12',
      requesterNameEN: 'customer',
      requesterNameTH: 'ลูกค้าอิสระ',
      requesterTaxID: '1223442333234213',
    },
    permission: {
      grant: ['ALL'],
      read: ['ALL'],
      write: ['ALL'],
    },
    createDate: '2018-01-12T09:49:24.946Z',
    updateDate: '2018-01-12T09:49:24.946Z',
    relationship: {
      beneficiary: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
      issuer: [
        '0120a7bfd3357f2d942d01f00043387832e2816f2170e8701314f9a446984906-1',
      ],
    },
    revision: 1,
    changeID:
      'bde28c1d83e2716942a3a7602b0e8e9e3daceb47442edeaadd78cac44386a348',
  },
]

const search = (req, res) => {
  return res({
    status: 'success',
    message: 'search LG successfully',
    total: mockDatas.length,
    result: _map(mockDatas),
  })
}

const _map = docs => {
  if (Array.isArray(docs) && docs.length > 0) {
    return docs.map(
      ({
        documentID,
        revision,
        changeID,
        createDate,
        updateDate,
        data,
        relationship: { issuer, beneficiary, requester, broker },
      }) => ({
        documentID,
        revision,
        changeID,
        createDate,
        updateDate,
        status: data.lgStatus,
        issuer,
        beneficiary,
        requester,
        broker,
        data: _mapData(data),
      }),
    )
  }

  return []
}

const _mapData = data => {
  const {
    documentName,
    issueBranchNumber,
    issueBranchDescription,
    lgNumber,
    lgAmount,
    lgCurrency,
    operationFlag,
    effectiveDate,
    maturityDate,
    issueDate,
    issueHubNumber,
    issuerTaxID,
    issuerNameTH,
    issuerNameEN,
    beneTaxID,
    beneNameTH,
    beneNameEN,
    requesterTaxID,
    requesterNameTH,
    requesterNameEN,
    lgStatus,
    approveDate,
    requestDate,
    modifyDate,
    lgFormNumber,
    lgType,
    referenceNumber,
    referenceName,
    referenceDescription,
    referenceDate,
    lgDescription1,
    lgDescription2,
    lgDescription3,
    lgDescription4,
    lgDescription5,
    lgDescription6,
    lgDescription7,
    lgDescription8,
    lgDescription9,
    lgDescription10,
    lgNote,
    remark,
    $$ref,
  } = data

  return {
    documentName,
    issueBranchNumber,
    issueBranchDescription,
    lgNumber,
    lgAmount,
    lgCurrency,
    operationFlag,
    effectiveDate,
    maturityDate,
    issueDate,
    issueHubNumber,
    issuerTaxID,
    issuerNameTH,
    issuerNameEN,
    beneTaxID,
    beneNameTH,
    beneNameEN,
    requesterTaxID,
    requesterNameTH,
    requesterNameEN,
    lgStatus,
    approveDate,
    requestDate,
    modifyDate,
    lgFormNumber,
    lgType,
    referenceNumber,
    referenceName,
    referenceDescription,
    referenceDate,
    lgDescription1,
    lgDescription2,
    lgDescription3,
    lgDescription4,
    lgDescription5,
    lgDescription6,
    lgDescription7,
    lgDescription8,
    lgDescription9,
    lgDescription10,
    lgNote,
    remark,
    $$ref,
  }
}

module.exports = {
  search,
}
